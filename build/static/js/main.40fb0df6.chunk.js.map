{"version":3,"sources":["components/Person.js","components/Filter.js","components/PersonForm.js","components/Notification.js","services/persons.js","App.js","index.js"],"names":["Person","person","deletePerson","name","number","onClick","window","confirm","id","Persons","persons","map","Filter","handleSearch","onChange","event","PersonForm","onSubmit","nameValue","nameChange","numberValue","numberChange","text","value","type","Notification","message","className","baseUrl","functions","getAll","axios","get","then","response","data","create","newObject","post","update","put","destroy","delete","App","useState","setPersons","filteredPersons","setFilteredPersons","newName","setNewName","newNumber","setNewNumber","successMessage","setSuccessMessage","errorMessage","setErrorMessage","useEffect","personService","initialPersons","updatePerson","changedPerson","find","returnedPerson","setTimeout","catch","error","result","target","toLowerCase","filter","search","preventDefault","p","includes","alert","personObject","concat","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.40fb0df6.chunk.js","sourcesContent":["import React from 'react'\n\nconst Persons = ({ persons, deletePerson }) => {\n  return (\n    persons.map(person => \n      <Person key={person.name} person={person} deletePerson={deletePerson} />\n    )\n  )\n}\n\nconst Person = ({ person, deletePerson }) => {\n  return (\n    <div>\n      {person.name} {person.number}\n      <button onClick={() => {\n        if (window.confirm(`Delete ${person.name} ?`)) {\n          deletePerson(person.id)}}} >\n        delete\n      </button>\n    </div>\n  )\n}\n\nexport default Persons","import React from 'react'\n\nconst Filter = ({ handleSearch }) => {\n  return (\n    <div>filter shown with <input onChange={(event) => handleSearch(event)} /></div>\n  )\n}\n\nexport default Filter","import React from 'react'\n\nconst PersonForm = ({ onSubmit, nameValue, nameChange, numberValue, numberChange, text }) => {\n  return (\n    <form onSubmit={onSubmit}>\n      <div> name: <input value={nameValue} onChange={nameChange} /></div>\n      <div> number: <input value={numberValue} onChange={numberChange} /></div>\n      <button type=\"submit\">{text}</button>\n    </form>\n  )\n}\n\nexport default PersonForm","import React from 'react'\n\nconst Notification = ({ message, type }) => {\n  if (message === null) {\n    return null\n  }\n\n  return (\n    <div className={`${type}-alert`}>\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  return request.then(response => response.data)\n}\n\nconst create = (newObject) => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\nconst destroy = (id) => {\n  const request = axios.delete(`${baseUrl}/${id}`)\n  return request.then(response => response.data)\n}\n\nconst functions = { getAll, create, update, destroy }\n\nexport default functions","import React, { useState, useEffect } from 'react'\nimport Persons from './components/Person'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Notification from './components/Notification'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [ persons, setPersons] = useState([])\n  const [ filteredPersons, setFilteredPersons ] = useState(persons);\n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ successMessage, setSuccessMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n        setFilteredPersons(initialPersons)\n      })\n  }, [])\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if (persons.map(p => p.name).includes(newName)) {\n      const person = persons.find(person => person.name === newName)\n      const id = person.id\n      const changedPerson = { ...person, number: newNumber }\n\n      if (person.number === newNumber) {\n        window.alert(`${newName} is already added to phonebook with the same number`)\n      } else {\n        if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n          updatePerson(id, changedPerson)\n        }}\n    } else {\n      \n      const personObject = {\n        name: newName,\n        number: newNumber\n      }\n  \n      personService\n      .create(personObject)\n        .then(returnedPerson => {\n          setPersons(persons.concat(returnedPerson))\n          setFilteredPersons(persons.concat(returnedPerson))\n          setNewName('')\n          setNewNumber('')\n        })\n        .then(() => {\n          setSuccessMessage(\n            `Added ${newName}`\n          )\n          setTimeout(() => {\n            setSuccessMessage(null)\n          }, 5000)\n        })\n        .catch(error => {\n          setErrorMessage(\n            `Could not add ${newName}` \n          )\n          setTimeout(() => {\n            setErrorMessage(null)\n          }, 5000)\n        })\n    }\n  }\n\n  const updatePerson = (id, changedPerson) => {\n    const person = persons.find(person => person.id === id)\n\n    personService\n    .update(id, changedPerson)\n      .then(returnedPerson => {\n        setPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n        setFilteredPersons(persons.map(person => person.id !== id ? person : returnedPerson))\n        setNewName('')\n        setNewNumber('')\n      })\n      .then(() => {\n        setSuccessMessage(\n          `Changed ${person.name}'s number to ${changedPerson.number}`\n        )\n        setTimeout(() => {\n          setSuccessMessage(null)\n        }, 5000)\n      })\n      .catch(error => {\n        setErrorMessage(\n          `Information of ${person.name} has already been removed from server` \n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n  }\n\n  const deletePerson = (id) => {\n    const person = persons.find(person => person.id === id)\n\n    personService\n    .destroy(id)\n      .then(() => {\n        setPersons(persons.filter(person => person.id !== id))\n        setFilteredPersons(persons.filter(person => person.id !== id))\n      })\n      .then(() => {\n        setSuccessMessage(\n          `Deleted ${person.name}` \n        )\n        setTimeout(() => {\n          setSuccessMessage(null)\n        }, 5000)\n      })\n      .catch(error => {\n        setErrorMessage(\n          `Information of ${person.name} has already been removed from server` \n        )\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n      })\n  }\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearch = (event) => {\n    let value = event.target.value.toLowerCase()\n    let result = []\n    result = persons.filter((person) => {\n      return person.name.toLowerCase().search(value) !== -1\n    })\n    setFilteredPersons(result)\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification message={successMessage} type=\"success\"/>\n      <Notification message={errorMessage} type=\"error\"/>\n      <Filter handleSearch={handleSearch} />\n      <h3>Add a new</h3>\n      <PersonForm \n        onSubmit={addPerson}\n        nameValue={newName}\n        nameChange={handleNameChange}\n        numberValue={newNumber}\n        numberChange={handleNumberChange}\n        text=\"add\"\n      />\n      <h3>Numbers</h3>\n      <Persons persons={filteredPersons} deletePerson={deletePerson} />\n    </div>\n  )\n}\n\nexport default App\n","import ReactDOM from 'react-dom'\nimport App from './App'\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n)\n"],"sourceRoot":""}